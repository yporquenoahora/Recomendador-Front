<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="color-scheme" content="light dark" />
    <title>Catalog Filmin - AIDA MARQUEZ</title>
    <link rel="shortcut icon" href="/img/cropped-cropped-cropped-logo-1-mini-1.png" type="image/ico">
  
  <style>
@charset "UTF-8";.header.svelte-fa7132{line-height:1.2;margin-bottom:.75rem;position:relative}.header.p.svelte-fa7132{height:100%;background-size:contain;background-color:#000;color:#fff;height:100vh;width:100%;top:0;left:0}.title.svelte-fa7132{padding-bottom:.0625rem;width:90%;font-weight:900;font-size:1.5rem;position:relative;margin:0}@media screen and (max-width: 488px){.title.svelte-fa7132{font-size:1.25rem}}.title.p.svelte-fa7132{font-size:64px;text-align:center;height:100%;margin:0;position:absolute;top:50%}@media screen and (max-width: 520px){.title.p.svelte-fa7132{top:20%}}.subtitle.svelte-fa7132{font-size:1rem}div.svelte-1nu5u82{margin:0;color:var(--int-font-color-credit);font-size:.875rem;line-height:1.125}span.svelte-1nu5u82{margin-right:1px;position:relative;top:1px}.rangeContainer.svelte-gijx31 span.svelte-gijx31{color:var(--int-font-color-credit)}.slider-container.svelte-gijx31.svelte-gijx31{display:flex;flex-direction:row;align-items:center}.custom-range.svelte-gijx31.svelte-gijx31{width:70%;height:20px;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:1rem;background-color:var(--filmin-color-base);border-radius:5px;outline:none}.custom-range.svelte-gijx31.svelte-gijx31::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;background-color:#000;border-radius:5px;cursor:pointer;border:2px solid black}.custom-range.svelte-gijx31.svelte-gijx31::-moz-range-thumb{width:20px;height:20px;background-color:var(--int-font-color-shade-darker);border-radius:5px;cursor:pointer}input.svelte-1ulqzd0{width:50%;padding:10px;margin-bottom:10px;font-size:16px}div.svelte-1ulqzd0{border:0px solid #ccc;border-radius:5px}h2.svelte-1o72y86 a.svelte-1o72y86{font-weight:600;font-size:1.25rem}.keywords.svelte-1o72y86 span.svelte-1o72y86,.tags.svelte-1o72y86 span.svelte-1o72y86{background-color:var(--int-filmin-pink);padding:.5rem;border-radius:15px;margin:.5rem;color:var(--int-basic-white-dark);border:1px solid var(--int-filmin-pink);cursor:pointer}.keywords.svelte-1o72y86 span.tag.svelte-1o72y86,.tags.svelte-1o72y86 span.tag.svelte-1o72y86{background-color:var(--int-info)}.sinopsis.svelte-1o72y86 span.svelte-1o72y86,.recomendar.svelte-1o72y86 span.svelte-1o72y86{font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:wrap;max-height:90px}.sinopsis.svelte-1o72y86 button.svelte-1o72y86,.recomendar.svelte-1o72y86 button.svelte-1o72y86{padding:.5rem;border-radius:15px;margin:.5rem;color:var(--int-basic-white-dark);cursor:pointer}.sinopsis.svelte-1o72y86 button.svelte-1o72y86{background-color:var(--int-info);font-weight:600;border:1px solid var(--int-filmin-pink)}.recomendar.svelte-1o72y86 button.svelte-1o72y86{background-color:#008b8b;border:2px solid darkred}.recomendador.svelte-1o72y86.svelte-1o72y86{background-color:var(--filmin-color-base);color:#fff;font-size:1.25rem;font-weight:700;border-radius:5px;width:60%;padding:1rem;margin:5px}.catalogo.svelte-1o72y86.svelte-1o72y86{display:flex;flex-wrap:wrap;font-size:11px;overflow:auto;justify-content:space-between}.catalogo.svelte-1o72y86 div p.svelte-1o72y86,.catalogo.svelte-1o72y86 .catalogo div h2.svelte-1o72y86{margin:5px}.contenedor.svelte-1o72y86.svelte-1o72y86{flex-basis:calc(33.33% - 20px);border:1px solid rgb(246,165,231);border-radius:5px;margin:5px}.contenedor.svelte-1o72y86.svelte-1o72y86{position:relative;cursor:pointer;background-color:var(--filmin-color-base);color:#3d3939;font-weight:300}.contenedor.svelte-1o72y86>div.svelte-1o72y86{display:flex;flex-wrap:wrap;margin-top:-.625rem}.contenedor.svelte-1o72y86 a.svelte-1o72y86{color:var(--int-info);text-decoration:none}.info.svelte-1o72y86.svelte-1o72y86{position:absolute;top:0;left:0;background-color:var(--int-info);color:#fff;font-weight:700;width:200px;font-size:.75rem;z-index:9999;transform:translateY(-10px);transition:opacity .3s ease,transform .3s ease}.info.visible.svelte-1o72y86.svelte-1o72y86{opacity:1;transform:translate(30px)}.pic.svelte-1o72y86.svelte-1o72y86{border-radius:5px;width:auto;height:80px;margin-left:.5rem;border:2px solid white}.keywords.svelte-1o72y86.svelte-1o72y86,.tags.svelte-1o72y86.svelte-1o72y86{display:flex;flex-wrap:wrap}.keywords.svelte-1o72y86 span.svelte-1o72y86,.keywords.svelte-1o72y86 .tag.svelte-1o72y86,.tags.svelte-1o72y86 span.svelte-1o72y86,.tags.svelte-1o72y86 .tag.svelte-1o72y86{background-color:var(--int-filmin-pink);padding:.5rem;border-radius:15px;margin:.5rem;color:var(--int-basic-white-dark);border:1px solid var(--int-filmin-pink)}.keywords.svelte-1o72y86 .key_catalogo.svelte-1o72y86,.tags.svelte-1o72y86 .key_catalogo.svelte-1o72y86{background-color:var(--int-filmin-pink);font-size:11px;margin:.25rem;font-weight:700;cursor:auto}.tag.svelte-1o72y86.svelte-1o72y86{background-color:var(--int-info);font-size:11px;margin:2px}div.svelte-1o72y86.svelte-1o72y86,.filters.svelte-1o72y86.svelte-1o72y86{padding:5px;border-radius:0;font-size:1rem;font-family:Verdana,Geneva,Tahoma,sans-serif;margin:10px auto}.filters.svelte-1o72y86.svelte-1o72y86{margin-top:0}@media screen and (max-width: 768px){.catalogo.svelte-1o72y86.svelte-1o72y86{flex-direction:row}.contenedor.svelte-1o72y86.svelte-1o72y86{flex-basis:calc(100% - 20px);border:1px solid var(--int-filmin-pink);border-radius:5px;margin:3px}.contenedor.svelte-1o72y86>div h2.svelte-1o72y86{font-size:.75rem;width:100%;text-align:left}.contenedor.svelte-1o72y86>div h2 a.svelte-1o72y86{font-size:.75rem;margin:5px}.column.svelte-1o72y86.svelte-1o72y86{flex:1;font-size:12px;text-align:left}.keywords.svelte-1o72y86.svelte-1o72y86{font-size:12px}}label.svelte-1jcsmfr{display:flex;align-items:center;font-size:1.25rem}.checkbox.svelte-1jcsmfr{display:inline-block;padding:10px;border:1px solid #ccc;cursor:pointer;transition:background-color .3s}.checkbox.svelte-1jcsmfr{background-color:#90ee90}.ordenar.svelte-9283eg.svelte-9283eg.svelte-9283eg{display:flex;justify-content:center}label.svelte-9283eg.svelte-9283eg.svelte-9283eg{margin:1rem}.custom-checkbox.svelte-9283eg.svelte-9283eg.svelte-9283eg{display:inline-block;position:relative;cursor:pointer}.custom-checkbox.svelte-9283eg input[type=checkbox].svelte-9283eg.svelte-9283eg{position:absolute;opacity:0;cursor:pointer}.checkbox-image.svelte-9283eg.svelte-9283eg.svelte-9283eg{width:20px;height:20px}.custom-checkbox.svelte-9283eg input[type=checkbox].svelte-9283eg+.checkbox-image.svelte-9283eg{opacity:.5}.custom-checkbox.svelte-9283eg input[type=checkbox].svelte-9283eg:checked+.checkbox-image.svelte-9283eg{opacity:1}.chart.svelte-1cev9dn{display:flex;align-items:initial;height:auto;flex-wrap:wrap}.valor.svelte-1cev9dn{color:var(--int-font-color-default)}button.svelte-1cev9dn{border:2px solid rgb(104,133,110);border-radius:15px;padding:.5rem;background-color:var(--filmin-color-base);font-weight:700;font-size:14px;cursor:pointer}.bar-container.svelte-1cev9dn{display:flex;align-items:center;margin:10px;padding:10px;border-radius:1rem;background-color:var(--filmin-color-base);cursor:pointer}.bar-container.active.svelte-1cev9dn{background-color:#ff7fdd}.bar.svelte-1cev9dn{background-color:#d5f2e8;height:20px}.label.svelte-1cev9dn{font-size:12px;margin-right:10px;color:var(--int-font-color-default)}label.svelte-wuer0y.svelte-wuer0y.svelte-wuer0y{display:flex;align-items:center;font-size:1.25rem}.chooseDataset.svelte-wuer0y.svelte-wuer0y.svelte-wuer0y{display:flex;margin:1rem}.labels.svelte-wuer0y.svelte-wuer0y.svelte-wuer0y{display:flex;-moz-columns:2;columns:2}.custom-radio.svelte-wuer0y.svelte-wuer0y.svelte-wuer0y{display:inline-block;position:relative;padding-left:30px;margin-right:15px;cursor:pointer;font-size:16px}.custom-radio.svelte-wuer0y input[type=radio].svelte-wuer0y.svelte-wuer0y{position:absolute;opacity:0;cursor:pointer}.radio-circle.svelte-wuer0y.svelte-wuer0y.svelte-wuer0y{position:absolute;top:0;left:0;height:20px;width:20px;background-color:var(--filmin-color-base);border-radius:0%}.custom-radio.svelte-wuer0y input[type=radio].svelte-wuer0y:checked~.radio-circle.svelte-wuer0y{background-color:var(--filmin-color-base)}.radio-circle.svelte-wuer0y.svelte-wuer0y.svelte-wuer0y:after{content:"";position:absolute;display:none;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background-color:#fff;border-radius:0%}.custom-radio.svelte-wuer0y input[type=radio].svelte-wuer0y:checked~.radio-circle.svelte-wuer0y:after{display:block}.applause-control.svelte-maqcr8{display:flex;align-items:center;flex-direction:column}.controls.svelte-maqcr8{display:flex;align-items:center}.applause-icon.svelte-maqcr8{font-size:1.275rem;margin:0 10px}span.svelte-maqcr8{padding:1rem;min-width:80px;text-align:center}img.svelte-17li262{width:100%;text-align:center}html{color-scheme:light dark;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}html,body{background-color:var(--int-background-color-default)}body{margin:0;padding:0;cursor:default;width:100%;height:100%}div[data-type=graphics-svelte-app].svelte-dq3gtq{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth;font-size:100%;line-height:1.125;font-feature-settings:"pnum" on,"lnum" on;-webkit-text-size-adjust:100%;-moz-text-size-adjust:none;-ms-text-size-adjust:100%}div[data-type=graphics-svelte-app].svelte-dq3gtq{color:var(--int-font-color-credit);background-color:var(--int-background-color-default)}div[data-type=graphics-svelte-app].svelte-dq3gtq{max-width:1040px;min-width:284px}div[data-type=graphics-svelte-app]{--int-font-color-default:#000000;--int-font-color-credit:#000000;--int-font-color-shade-base:#989694;--int-font-color-shade-darker:#5C5A58;--int-font-color-shade-dark:#807E7C;--int-font-color-shade-light:#BBB9B7;--int-font-color-shade-lightest:#F1EFED;--int-background-color-default:#ffffff;--int-border-color-default:#989694;--int-box-color-default:#d5f2e8;--filmin-color-base:#d5f2e8;--filmin-color-base-light:#a8f5da;--int-filmin-pink:rgb(255, 127, 221);--int-filmin-light-pink:rgb(246, 165, 231);--int-info:#50839d;--int-basic-white-dark:#F1EFED}@media (prefers-color-scheme: dark){div[data-type=graphics-svelte-app]{--int-font-color-default:#000000;--int-font-color-credit:#F1EFED;--int-font-color-shade-darker:#DDDBD9;--int-font-color-shade-dark:#BBB9B7;--int-font-color-shade-light:#807E7C;--int-font-color-shade-lightest:#2F2D2B;--int-background-color-default:#2e9e82;--int-border-color-default:#BBB9B7;--int-box-color-default:#6d9f8e;--filmin-color-base:#d6ed88;--int-filmin-pink:rgb(159, 114, 152);--int-filmin-light-pink:rgb(244, 83, 215);--filmin-color-base-light:#a8f5da;--int-info:#364142}}div[data-type=graphics-svelte-app].svelte-dq3gtq{font-size:1rem;font-family:Verdana,Geneva,Tahoma,sans-serif;margin:10 auto;max-width:764px;margin:0 auto;text-align:center;border:1px solid lightgray}
</style>
</head>
<body>
<div></div>
<script>
(()=>{!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let o,a;function l(e,t){return o||(o=document.createElement("a")),o.href=t,e===o.href}function c(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e,t,n){e.$$.on_destroy.push(c(t,n))}function d(e,t,n){return e.set(n),t}function f(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function y(){return v(" ")}function _(){return v("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e){return""===e?null:+e}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function x(e,t){e.value=null==t?"":t}function E(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function C(e,t,n){e.classList[n?"add":"remove"](t)}function S(e){a=e}function R(){if(!a)throw new Error("Function called outside component initialization");return a}function O(e){R().$$.on_mount.push(e)}function T(e){R().$$.on_destroy.push(e)}const L=[],A=[],j=[],M=[],I=Promise.resolve();let D=!1;function z(e){j.push(e)}const F=new Set;let N=0;function q(){const e=a;do{for(;N<L.length;){const e=L[N];N++,S(e),U(e.$$)}for(S(null),L.length=0,N=0;A.length;)A.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];F.has(t)||(F.add(t),t())}j.length=0}while(L.length);for(;M.length;)M.pop()();D=!1,F.clear(),S(e)}function U(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const P=new Set;function H(e,t){e&&e.i&&(P.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),undefined.c.push((()=>{P.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function K(e){e&&e.c()}function W(e,n,s,o){const{fragment:a,after_update:l}=e.$$;a&&a.m(n,s),o||z((()=>{const n=e.$$.on_mount.map(t).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),l.forEach(z)}function Q(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,t){-1===e.$$.dirty[0]&&(L.push(e),D||(D=!0,I.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,i,s,o,l,c,u,d=[-1]){const f=a;S(t);const h=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||f.$$.root};u&&u(h.root);let m=!1;if(h.ctx=s?s(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),m&&Z(t,e)),n})):[],h.update(),m=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(p)}else h.fragment&&h.fragment.c();i.intro&&H(t.$$.fragment),W(t,i.target,i.anchor,i.customElement),q()}S(f)}class G{$destroy(){Q(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!function(e){return 0===Object.keys(e).length}(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Y={},V={};function X(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ee(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function te(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ne(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+te(-e,6):e>9999?"+"+te(e,6):te(e,4)}(e.getUTCFullYear())+"-"+te(e.getUTCMonth()+1,2)+"-"+te(e.getUTCDate(),2)+(i?"T"+te(t,2)+":"+te(n,2)+":"+te(r,2)+"."+te(i,3)+"Z":r?"T"+te(t,2)+":"+te(n,2)+":"+te(r,2)+"Z":n||t?"T"+te(t,2)+":"+te(n,2)+"Z":"")}var re=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],s=e.length,o=0,a=0,l=s<=0,c=!1;function u(){if(l)return V;if(c)return c=!1,Y;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<s&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=s?l=!0:10===(r=e.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<s;){if(10===(r=e.charCodeAt(t=o++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(r=u())!==V;){for(var d=[];r!==Y&&r!==V;)d.push(r),r=u();t&&null==(d=t(d,a++))||i.push(d)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function s(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?ne(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,s=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=X(e);return function(r,i){return t(n(r),i,e)}}(e,t):X(e)}));return s.columns=i||[],s},parseRows:r,format:function(t,n){return null==n&&(n=ee(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ee(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(s).join("\n")},formatRow:s,formatValue:o}}(","),ie=re.parse;function se(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;oe&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}const oe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function ae(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function le(e,t){return fetch(e,t).then(ae)}var ce,ue=(ce=ie,function(e,t,n){return 2===arguments.length&&"function"==typeof t&&(n=t,t=void 0),le(e,t).then((function(e){return ce(e,n)}))}),de=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}});const fe=de.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},s=0,o={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var l=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,a=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=g,l.id=s++,i[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var h,p=null;return o.NODE_STREAM_INPUT,"string"==typeof n?(n=65279===(h=n).charCodeAt(0)?h.slice(1):h,p=r.download?new c(r):new d(r)):!0===n.readable&&w(n.read)&&w(n.on)?p=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new u(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",s="\r\n",a='"',l=a+a,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(p(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(o+=i),o+=m(e[c],c);0<t.length&&(o+=s)}for(var u=0;u<t.length;u++){var d=a?e.length:t[u].length,f=!1,h=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(f="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var p=[],g=0;g<d;g++){var v=l?e[g]:g;p.push(t[u][v])}f=""===p.join("").trim()}if(!f){for(var y=0;y<d;y++){0<y&&!h&&(o+=i);var _=a&&l?e[y]:y;o+=m(t[u][_],y)}u<t.length-1&&(!n||0<d&&!h)&&(o+=s)}}return o}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var s=e.toString().replace(f,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(s,o.BAD_DELIMITERS)||-1<s.indexOf(i)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?a+s+a:s}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=h,o.NetworkStreamer=c,o.FileStreamer=u,o.StringStreamer=d,o.ReadableStreamStreamer=f,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:a.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,l,c=r[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,i=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:t},n,i,l));if("skip"===u.action)return void s();"object"==typeof u.config&&(c.instanceConfig=a.extend(c.instanceConfig,u.config))}else if("skip"===u)return void s()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(d)&&d(e,c.file,c.inputElem),s()},o.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function s(){r.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var a=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=s.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:a,workerId:o.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=$(this._chunkLoaded,this),t.onerror=$(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(s){this._chunkError(s.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=$(this._chunkLoaded,this),t.onerror=$(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=$((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(r){this._streamError(r)}}),this),this._streamError=$((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=$((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=$((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i=Math.pow(2,53),s=-i,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,f=!1,h=!1,g=[],v={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(v=t,k())b();else{if(b(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],y(v,c))}}}function $(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function b(){return v&&r&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!$(e)}))),k()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;k()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,o=t[r];e.header&&(s=r>=g.length?"__parsed_extra":g[r]),e.transform&&(o=e.transform(o,s)),o=x(s,o),"__parsed_extra"===s?(i[s]=i[s]||[],i[s].push(o)):i[s]=o}return e.header&&(r>g.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),i}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),d+=n,v}()}function k(){return e.header&&0===g.length}function x(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(s<t&&t<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function E(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),v.errors.push(i)}this.parse=function(i,s,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),s=1<i.length&&i[0].length<r[0].length;if(1===r.length||s)return"\n";for(var o=0,a=0;a<r.length;a++)"\n"===r[a][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter);else{var c=function(t,n,r,i,s){var a,l,c,u;s=s||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<s.length;d++){var f=s[d],h=0,p=0,g=0;c=void 0;for(var v=new m({comments:i,delimiter:f,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(r&&$(v.data[y]))g++;else{var _=v.data[y].length;p+=_,void 0!==c?0<_&&(h+=Math.abs(_-c),c=_):c=_}0<v.data.length&&(p/=v.data.length-g),(void 0===l||h<=l)&&(void 0===u||u<p)&&1.99<p&&(l=h,a=f,u=p)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=_(e);return e.preview&&e.header&&u.preview++,t=i,n=new m(u),v=n.parse(t,s,a),b(),f?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(f=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,s=e.step,a=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(o,f,h){if("string"!=typeof o)throw new Error("Input must be a string");var m=o.length,g=n.length,v=r.length,y=i.length,_=w(s),$=[],b=[],k=[],x=u=0;if(!o)return W();if(e.header&&!f){var E=o.split(r)[0].split(n),C=[],S={},R=!1;for(var O in E){var T=E[O];w(e.transformHeader)&&(T=e.transformHeader(T,O));var L=T,A=S[T]||0;for(0<A&&(R=!0,L=T+"_"+A),S[T]=A+1;C.includes(L);)L=L+"_"+A;C.push(L)}if(R){var j=o.split(r);j[0]=C.join(n),o=j.join(r)}}if(l||!1!==l&&-1===o.indexOf(t)){for(var M=o.split(r),I=0;I<M.length;I++){if(k=M[I],u+=k.length,I!==M.length-1)u+=r.length;else if(h)return W();if(!i||k.substring(0,y)!==i){if(_){if($=[],P(k.split(n)),Q(),d)return W()}else P(k.split(n));if(a&&a<=I)return $=$.slice(0,a),W(!0)}}return W()}for(var D=o.indexOf(n,u),z=o.indexOf(r,u),F=new RegExp(p(c)+p(t),"g"),N=o.indexOf(t,u);;)if(o[u]!==t)if(i&&0===k.length&&o.substring(u,u+y)===i){if(-1===z)return W();u=z+v,z=o.indexOf(r,u),D=o.indexOf(n,u)}else if(-1!==D&&(D<z||-1===z))k.push(o.substring(u,D)),u=D+g,D=o.indexOf(n,u);else{if(-1===z)break;if(k.push(o.substring(u,z)),K(z+v),_&&(Q(),d))return W();if(a&&$.length>=a)return W(!0)}else for(N=u,u++;;){if(-1===(N=o.indexOf(t,N+1)))return h||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:u}),B();if(N===m-1)return B(o.substring(u,N).replace(F,t));if(t!==c||o[N+1]!==c){if(t===c||0===N||o[N-1]!==c){-1!==D&&D<N+1&&(D=o.indexOf(n,N+1)),-1!==z&&z<N+1&&(z=o.indexOf(r,N+1));var q=H(-1===z?D:Math.min(D,z));if(o.substr(N+1+q,g)===n){k.push(o.substring(u,N).replace(F,t)),o[u=N+1+q+g]!==t&&(N=o.indexOf(t,u)),D=o.indexOf(n,u),z=o.indexOf(r,u);break}var U=H(z);if(o.substring(N+1+U,N+1+U+v)===r){if(k.push(o.substring(u,N).replace(F,t)),K(N+1+U+v),D=o.indexOf(n,u),N=o.indexOf(t,u),_&&(Q(),d))return W();if(a&&$.length>=a)return W(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:u}),N++}}else N++}return B();function P(e){$.push(e),x=u}function H(e){var t=0;if(-1!==e){var n=o.substring(N+1,e);n&&""===n.trim()&&(t=n.length)}return t}function B(e){return h||(void 0===e&&(e=o.substring(u)),k.push(e),u=m,P(k),_&&Q()),W()}function K(e){u=e,P(k),k=[],z=o.indexOf(r,u)}function W(e){return{data:$,errors:b,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:x+(f||0)}}}function Q(){s(W()),$=[],b=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},s),!r);o++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function _(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=_(e[n]);return t}function $(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(l.prototype)).constructor=f,o}(),he=[];function pe(t,n=e){let r;const i=new Set;function o(e){if(s(t,e)&&(t=e,r)){const e=!he.length;for(const n of i)n[1](),he.push(n,t);if(e){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const l=[s,a];return i.add(l),1===i.size&&(r=n(o)||e),s(t),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function me(t,n,s){const o=!Array.isArray(t),a=o?[t]:t,l=n.length<2;return function(e,t){return{subscribe:pe(e,t).subscribe}}(s,(t=>{let s=!1;const u=[];let d=0,f=e;const h=()=>{if(d)return;f();const r=n(o?u[0]:u,t);l?t(r):f=i(r)?r:e},p=a.map(((e,t)=>c(e,(e=>{u[t]=e,d&=~(1<<t),s&&h()}),(()=>{d|=1<<t}))));return s=!0,h(),function(){r(p),f()}}))}const ge={data:"data/data-full.csv",dataLast:"data/dataUltimosDias.csv",series:"data/data-full-series.csv",title:"Los géneros más populares",subtitle:"Playlist de los últimos 40 años",sources:"Fuente: ...",embed:!1,debug:!1},ve=me(pe({}),((e,t)=>{const n=new URLSearchParams(window.location.search),r=Object.fromEntries(n);t({...ge,...se(r),...se(e)})}));me(ve,(e=>{const{data:t,dataLast:n}=e;return Promise.all([ue(t),ue(n)]).then((([e,t])=>({data:e,dataLast:t}))).catch((e=>{}))}));const ye=pe([]),_e=pe([]),$e=pe({tags:[],audio:[],generos:[],pais:[],keywords:[]}),we=pe([]),be=pe([]),ke=pe([]),xe=pe({score:0,minVotos:0,votos:0,scoreMax:10,votosMax:11600,minutos:0}),Ee=pe(""),Ce=pe({series:!1,peliculas:!0}),Se=pe([]),Re=pe([]),Oe=pe(ye),Te=pe();function Le(e){let t,n,i,s,o,a,l,c,u,d,m,_=e[3][e[0]]+"";return{c(){t=g("span"),n=v(e[0]),i=v(" : "),s=v(_),o=y(),a=g("input"),l=y(),c=g("span"),u=v(e[2]),w(t,"class","svelte-gijx31"),w(a,"type","range"),w(a,"class","custom-range svelte-gijx31"),w(a,"min",0),w(a,"max",e[2]),w(a,"step","1"),w(c,"class","svelte-gijx31")},m(r,p){h(r,t,p),f(t,n),f(t,i),f(t,s),h(r,o,p),h(r,a,p),x(a,e[3][e[0]]),h(r,l,p),h(r,c,p),f(c,u),d||(m=[$(a,"change",e[6]),$(a,"input",e[6])],d=!0)},p(e,t){1&t&&k(n,e[0]),9&t&&_!==(_=e[3][e[0]]+"")&&k(s,_),4&t&&w(a,"max",e[2]),9&t&&x(a,e[3][e[0]]),4&t&&k(u,e[2])},d(e){e&&p(t),e&&p(o),e&&p(a),e&&p(l),e&&p(c),d=!1,r(m)}}}function Ae(e){let t,n,i,s,o,a,l,c,u,d=e[3][e[0]]+"";return{c(){t=g("span"),n=v(e[0]),i=v(" : "),s=v(d),o=g("br"),a=y(),l=g("input"),w(t,"class","svelte-gijx31"),w(l,"type","range"),w(l,"class","custom-range svelte-gijx31"),w(l,"min",0),w(l,"max",e[1]),w(l,"step","1")},m(r,d){h(r,t,d),f(t,n),f(t,i),f(t,s),h(r,o,d),h(r,a,d),h(r,l,d),x(l,e[3][e[0]]),c||(u=[$(l,"change",e[7]),$(l,"input",e[7])],c=!0)},p(e,t){1&t&&k(n,e[0]),9&t&&d!==(d=e[3][e[0]]+"")&&k(s,d),2&t&&w(l,"max",e[1]),9&t&&x(l,e[3][e[0]])},d(e){e&&p(t),e&&p(o),e&&p(a),e&&p(l),c=!1,r(u)}}}function je(e){let t,n,i,s,o,a,l,c,u,d,m,_,b,E,C,S=e[3].score+"",R=e[3].scoreMax+"";return{c(){t=g("span"),n=v("Puntuación: "),i=v(S),s=v(" - "),o=v(R),a=g("br"),l=y(),c=g("div"),u=g("input"),m=y(),_=g("input"),w(t,"class","svelte-gijx31"),w(u,"type","range"),w(u,"class","custom-range svelte-gijx31"),w(u,"min",0),w(u,"max",d=e[3].scoreMax),w(u,"step","1"),w(_,"type","range"),w(_,"class","custom-range svelte-gijx31"),w(_,"min",b=e[3].score),w(_,"max",e[1]),w(_,"step","1"),w(c,"class","slider-container svelte-gijx31")},m(r,d){h(r,t,d),f(t,n),f(t,i),f(t,s),f(t,o),h(r,a,d),h(r,l,d),h(r,c,d),f(c,u),x(u,e[3].score),f(c,m),f(c,_),x(_,e[3].scoreMax),E||(C=[$(u,"change",e[8]),$(u,"input",e[8]),$(_,"change",e[9]),$(_,"input",e[9])],E=!0)},p(e,t){8&t&&S!==(S=e[3].score+"")&&k(i,S),8&t&&R!==(R=e[3].scoreMax+"")&&k(o,R),8&t&&d!==(d=e[3].scoreMax)&&w(u,"max",d),8&t&&x(u,e[3].score),8&t&&b!==(b=e[3].score)&&w(_,"min",b),2&t&&w(_,"max",e[1]),8&t&&x(_,e[3].scoreMax)},d(e){e&&p(t),e&&p(a),e&&p(l),e&&p(c),E=!1,r(C)}}}function Me(t){let n,r,i,s,o,a="votos"===t[0]&&Le(t),l="minutos"===t[0]&&Ae(t),c="score"===t[0]&&je(t);return{c(){n=g("div"),r=y(),i=g("div"),a&&a.c(),s=y(),l&&l.c(),o=y(),c&&c.c(),w(i,"class","rangeContainer svelte-gijx31")},m(e,t){h(e,n,t),h(e,r,t),h(e,i,t),a&&a.m(i,null),f(i,s),l&&l.m(i,null),f(i,o),c&&c.m(i,null)},p(e,[t]){"votos"===e[0]?a?a.p(e,t):(a=Le(e),a.c(),a.m(i,s)):a&&(a.d(1),a=null),"minutos"===e[0]?l?l.p(e,t):(l=Ae(e),l.c(),l.m(i,o)):l&&(l.d(1),l=null),"score"===e[0]?c?c.p(e,t):(c=je(e),c.c(),c.m(i,null)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&p(n),e&&p(r),e&&p(i),a&&a.d(),l&&l.d(),c&&c.d()}}}function Ie(e,t,n){let r,i,s;u(e,xe,(e=>n(3,i=e))),u(e,Oe,(e=>n(5,s=e)));let{key:o,min:a,max:l}=t;return e.$$set=e=>{"key"in e&&n(0,o=e.key),"min"in e&&n(4,a=e.min),"max"in e&&n(1,l=e.max)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=Math.max(...s.map((e=>e.votos?parseInt(e.votos.split(" ")[0]):0)))||12e3),e.$$.dirty,25&e.$$.dirty&&"scoreMax"===o&&n(4,a=i.scoreMax>=i.score?a:i.score)},[o,l,r,i,a,s,function(){i[o]=b(this.value),xe.set(i)},function(){i[o]=b(this.value),xe.set(i)},function(){i.score=b(this.value),xe.set(i)},function(){i.scoreMax=b(this.value),xe.set(i)}]}class De extends G{constructor(e){super(),J(this,e,Ie,Me,s,{key:0,min:4,max:1})}}function ze(t){let n,r,i,s;return{c(){n=g("div"),r=g("input"),w(r,"type","text"),w(r,"placeholder","Buscar ..."),w(r,"class","svelte-1ulqzd0"),w(n,"class","svelte-1ulqzd0")},m(e,o){h(e,n,o),f(n,r),x(r,t[0]),i||(s=$(r,"input",t[1]),i=!0)},p(e,[t]){1&t&&r.value!==e[0]&&x(r,e[0])},i:e,o:e,d(e){e&&p(n),i=!1,s()}}}function Fe(e,t,n){let r;return u(e,Ee,(e=>n(0,r=e))),[r,function(){r=this.value,Ee.set(r)}]}class Ne extends G{constructor(e){super(),J(this,e,Fe,ze,s,{})}}let qe={};function Ue(){return qe}Te.subscribe((e=>{qe={urlsTags:{peliculas:{dev:"http://127.0.0.1:8100/matrizFrecuenciaTags?title="+e+"&nres=20",build:"https://amago.pythonanywhere.com/matrizFrecuenciaTags?title="+e+"&nres=20"},series:{dev:"http://127.0.0.1:8100/matrizFrecuenciaSeriesTags?title="+e+"&nres=20",build:"https://amago.pythonanywhere.com/matrizFrecuenciaSeriesTags?title="+e+"&nres=20"}},urlItems:{peliculas:{dev:"http://127.0.0.1:8100/matriz?title="+e+"&nres=20",build:"https://amago.pythonanywhere.com/matriz?title="+e+"&nres=20"},series:{dev:"http://127.0.0.1:8100/matrizSeries?title="+e+"&nres=20",build:"https://amago.pythonanywhere.com/matrizSeries?title="+e+"&nres=20"}}}}));function Pe(e,t,n){const r=e.slice();return r[20]=t[n],r}function He(e,t,n){const r=e.slice();return r[23]=t[n],r}function Be(e,t,n){const r=e.slice();return r[26]=t[n],r}function Ke(e){let t,n=e[0].sort(e[4]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Xe(Pe(e,n,i));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);h(e,t,n)},p(e,i){if(255&i){let s;for(n=e[0].sort(e[4]),s=0;s<n.length;s+=1){const o=Pe(e,n,s);r[s]?r[s].p(o,i):(r[s]=Xe(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){m(r,e),e&&p(t)}}}function We(e){let t,n,r,i=e[20].availability+"";return{c(){t=v("Disponible hasta "),n=v(i),r=v(",")},m(e,i){h(e,t,i),h(e,n,i),h(e,r,i)},p(e,t){1&t&&i!==(i=e[20].availability+"")&&k(n,i)},d(e){e&&p(t),e&&p(n),e&&p(r)}}}function Qe(e){let t,n,r=e[20].estreno+"";return{c(){t=v(r),n=v(",")},m(e,r){h(e,t,r),h(e,n,r)},p(e,n){1&n&&r!==(r=e[20].estreno+"")&&k(t,r)},d(e){e&&p(t),e&&p(n)}}}function Ze(t){let n,r,i;return{c(){n=g("button"),n.textContent="Mostrar sinopsis",w(n,"class","svelte-1o72y86")},m(e,s){h(e,n,s),r||(i=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,i()}}}function Je(e){let t,n,r,i,s,o,a=e[20].sinopsis+"";return{c(){t=g("span"),n=v(a),r=y(),i=g("button"),i.textContent="Ocultar sinopsis",w(t,"class","svelte-1o72y86"),w(i,"class","svelte-1o72y86")},m(a,l){h(a,t,l),f(t,n),h(a,r,l),h(a,i,l),s||(o=$(i,"click",e[7]),s=!0)},p(e,t){1&t&&a!==(a=e[20].sinopsis+"")&&k(n,a)},d(e){e&&p(t),e&&p(r),e&&p(i),s=!1,o()}}}function Ge(e){let t,n=e[1][e[20].title],r=[];for(let i=0;i<n.length;i+=1)r[i]=Ye(Be(e,n,i));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);h(e,t,n)},p(e,i){if(19&i){let s;for(n=e[1][e[20].title],s=0;s<n.length;s+=1){const o=Be(e,n,s);r[s]?r[s].p(o,i):(r[s]=Ye(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){m(r,e),e&&p(t)}}}function Ye(e){let t,n,r=e[26]+"";return{c(){t=g("span"),n=v(r),w(t,"class","key_catalogo svelte-1o72y86")},m(e,r){h(e,t,r),f(t,n)},p(e,t){3&t&&r!==(r=e[26]+"")&&k(n,r)},d(e){e&&p(t)}}}function Ve(e){let t,n,r=e[23]+"";return{c(){t=g("span"),n=v(r),w(t,"class","tag svelte-1o72y86")},m(e,r){h(e,t,r),f(t,n)},p(e,t){1&t&&r!==(r=e[23]+"")&&k(n,r)},d(e){e&&p(t)}}}function Xe(e){let t,n,s,o,a,c,u,d,_,b,x,C,S,R,O,T,L,A,j,M,I,D,z,F,N,q,U,P,H,B,K,W,Q,Z,J,G,Y,V,X,ee,te,ne=e[20].title+"",re=e[20].generos+"",ie=e[20].duracion+"",se=e[20].audio+"",oe=e[20].score+"",ae=e[20].votos+"",le=e[20].availability&&We(e),ce=e[20].estreno&&Qe(e);function ue(){return e[11](e[20])}function de(e,t){return e[2]?Je:Ze}let fe=de(e),he=fe(e),pe=e[1][e[20].title]&&Ge(e),me=e[20].tags.split(","),ge=[];for(let r=0;r<me.length;r+=1)ge[r]=Ve(He(e,me,r));return{c(){t=g("div"),n=g("div"),s=g("div"),o=g("h2"),a=g("a"),c=v(ne),d=y(),_=g("img"),C=y(),S=g("p"),R=g("b"),O=v(re),T=v(",\r\n          "),le&&le.c(),L=y(),A=v(ie),j=v(",\r\n          "),ce&&ce.c(),M=y(),I=v(se),D=v(",\r\n          puntuado "),z=v(oe),F=v(",\r\n          "),N=g("b"),q=v(ae),U=v(" votos"),P=g("br"),H=y(),B=g("div"),B.innerHTML='<button class="svelte-1o72y86">Recomendar parecidas</button>',K=y(),W=g("div"),he.c(),Q=y(),Z=g("div"),J=g("div"),pe&&pe.c(),G=y(),Y=g("div");for(let e=0;e<ge.length;e+=1)ge[e].c();V=y(),w(a,"href",u=e[20].link),w(a,"class","svelte-1o72y86"),w(o,"class","svelte-1o72y86"),w(_,"class","pic svelte-1o72y86"),l(_.src,b=e[20].image)||w(_,"src",b),w(_,"alt",x=e[20].title),E(R,"font-weight","bold"),E(N,"font-weight","bold"),w(S,"class","svelte-1o72y86"),w(B,"class","recomendar svelte-1o72y86"),w(W,"class","sinopsis svelte-1o72y86"),w(s,"class","column svelte-1o72y86"),w(J,"class","keywords svelte-1o72y86"),w(Z,"class","column svelte-1o72y86"),w(n,"class","svelte-1o72y86"),w(Y,"class","tags svelte-1o72y86"),w(t,"class",X="contenedor "+e[20].title+" svelte-1o72y86")},m(r,l){h(r,t,l),f(t,n),f(n,s),f(s,o),f(o,a),f(a,c),f(s,d),f(s,_),f(s,C),f(s,S),f(S,R),f(R,O),f(S,T),le&&le.m(S,null),f(S,L),f(S,A),f(S,j),ce&&ce.m(S,null),f(S,M),f(S,I),f(S,D),f(S,z),f(S,F),f(S,N),f(N,q),f(S,U),f(S,P),f(S,H),f(s,B),f(s,K),f(s,W),he.m(W,null),f(n,Q),f(n,Z),f(Z,J),pe&&pe.m(J,null),f(t,G),f(t,Y);for(let e=0;e<ge.length;e+=1)ge[e].m(Y,null);f(t,V),ee||(te=[$(B,"mouseover",ue),$(B,"click",(function(){i(e[3]("sin",e[20].title))&&e[3]("sin",e[20].title).apply(this,arguments)})),$(B,"keydown",(function(){i(e[3]("sin",e[20].title))&&e[3]("sin",e[20].title).apply(this,arguments)})),$(B,"mouseout",e[6]),$(B,"focus",e[6]),$(B,"blur",e[6])],ee=!0)},p(n,r){if(e=n,1&r&&ne!==(ne=e[20].title+"")&&k(c,ne),1&r&&u!==(u=e[20].link)&&w(a,"href",u),1&r&&!l(_.src,b=e[20].image)&&w(_,"src",b),1&r&&x!==(x=e[20].title)&&w(_,"alt",x),1&r&&re!==(re=e[20].generos+"")&&k(O,re),e[20].availability?le?le.p(e,r):(le=We(e),le.c(),le.m(S,L)):le&&(le.d(1),le=null),1&r&&ie!==(ie=e[20].duracion+"")&&k(A,ie),e[20].estreno?ce?ce.p(e,r):(ce=Qe(e),ce.c(),ce.m(S,M)):ce&&(ce.d(1),ce=null),1&r&&se!==(se=e[20].audio+"")&&k(I,se),1&r&&oe!==(oe=e[20].score+"")&&k(z,oe),1&r&&ae!==(ae=e[20].votos+"")&&k(q,ae),fe===(fe=de(e))&&he?he.p(e,r):(he.d(1),he=fe(e),he&&(he.c(),he.m(W,null))),e[1][e[20].title]?pe?pe.p(e,r):(pe=Ge(e),pe.c(),pe.m(J,null)):pe&&(pe.d(1),pe=null),17&r){let t;for(me=e[20].tags.split(","),t=0;t<me.length;t+=1){const n=He(e,me,t);ge[t]?ge[t].p(n,r):(ge[t]=Ve(n),ge[t].c(),ge[t].m(Y,null))}for(;t<ge.length;t+=1)ge[t].d(1);ge.length=me.length}1&r&&X!==(X="contenedor "+e[20].title+" svelte-1o72y86")&&w(t,"class",X)},d(e){e&&p(t),le&&le.d(),ce&&ce.d(),he.d(),pe&&pe.d(),m(ge,e),ee=!1,r(te)}}}function et(t){let n,r=t[0].length>0&&Ke(t);return{c(){r&&r.c(),n=_()},m(e,t){r&&r.m(e,t),h(e,n,t)},p(e,[t]){e[0].length>0?r?r.p(e,t):(r=Ke(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&p(n)}}}function tt(e,t,n){let r,i,s,o,a,l,c,f,h,p,m;u(e,Te,(e=>n(8,i=e))),u(e,be,(e=>n(1,s=e))),u(e,Oe,(e=>n(14,o=e))),u(e,Ee,(e=>n(15,a=e))),u(e,$e,(e=>n(16,l=e))),u(e,ke,(e=>n(9,c=e))),u(e,Ce,(e=>n(10,f=e))),u(e,Re,(e=>n(17,h=e))),u(e,Se,(e=>n(18,p=e))),u(e,we,(e=>n(19,m=e)));let{data:g=[]}=t,v=!1;function y(e){}return e.$$set=e=>{"data"in e&&n(0,g=e.data)},e.$$.update=()=>{1794&e.$$.dirty&&n(3,r=(e,t)=>{!async function(){let n,r;d(Te,i=t=""!=t&&t?t:"Con faldas y a lo loco",i),r=Ue().urlItems,n=f.peliculas?r.peliculas.build:r.series.build,await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{d(be,s=t||s,s),d(ke,c="tags"==e?t:c,c),d($e,l={tags:[],audio:[],generos:[],pais:[],keywords:[]},l),d(Ee,a="",a),d(Oe,o=s,o),async function(){let e,t;t=Ue().urlsTags,e=f.peliculas?t.peliculas.build:t.series.build,await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{d(Se,p=e.keywords,p),d(be,s=e.data,s),d(Re,h=e.keywords,h)})).catch((e=>{}))}()})).catch((e=>{}))}()})},[g,s,v,r,(e,t)=>{for(const n of m)if(e[n]!==t[n])return"title"==n?t[n]<e[n]?1:-1:t[n]>e[n]?1:-1;return 0},y,function(){},function(){n(2,v=!v)},i,c,f,e=>{e.title}]}class nt extends G{constructor(e){super(),J(this,e,tt,et,s,{data:0})}}function rt(e,t,n){const r=e.slice();return r[5]=t[n],r}function it(e){let t,n,r,i,s,o,a,c,u,d,m,_=e[5]+"";return{c(){t=g("label"),n=g("input"),i=y(),s=g("img"),a=y(),c=v(_),u=y(),w(n,"type","checkbox"),n.__value=r=e[5],n.value=n.__value,w(n,"class","svelte-9283eg"),e[3][0].push(n),l(s.src,o="./img/icons8-ordenar-16.png")||w(s,"src","./img/icons8-ordenar-16.png"),w(s,"alt","Unchecked"),w(s,"class","checkbox-image svelte-9283eg"),w(t,"class","custom-checkbox svelte-9283eg")},m(r,o){h(r,t,o),f(t,n),n.checked=~e[1].indexOf(n.__value),f(t,i),f(t,s),f(t,a),f(t,c),f(t,u),d||(m=$(n,"change",e[2]),d=!0)},p(e,t){1&t&&r!==(r=e[5])&&(n.__value=r,n.value=n.__value),2&t&&(n.checked=~e[1].indexOf(n.__value)),1&t&&_!==(_=e[5]+"")&&k(c,_)},d(r){r&&p(t),e[3][0].splice(e[3][0].indexOf(n),1),d=!1,m()}}}function st(t){let n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=it(rt(t,r,e));return{c(){n=g("div");for(let e=0;e<i.length;e+=1)i[e].c();w(n,"class","ordenar svelte-9283eg")},m(e,t){h(e,n,t);for(let r=0;r<i.length;r+=1)i[r].m(n,null)},p(e,[t]){if(3&t){let s;for(r=e[0],s=0;s<r.length;s+=1){const o=rt(e,r,s);i[s]?i[s].p(o,t):(i[s]=it(o),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:e,o:e,d(e){e&&p(n),m(i,e)}}}function ot(e,t,n){let r;u(e,we,(e=>n(1,r=e)));let{options:i=[]}=t;const s=[[]];return e.$$set=e=>{"options"in e&&n(0,i=e.options)},e.$$.update=()=>{1&e.$$.dirty&&i.map((e=>({label:e,checked:!1})))},[i,r,function(){r=function(e,t,n){const r=new Set;for(let i=0;i<e.length;i+=1)e[i].checked&&r.add(e[i].__value);return n||r.delete(t),Array.from(r)}(s[0],this.__value,this.checked),we.set(r)},s]}class at extends G{constructor(e){super(),J(this,e,ot,st,s,{options:0})}}function lt(e,t,n){const r=e.slice();return r[23]=t[n][0],r[24]=t[n][1],r}function ct(e){let t,n,s,o,a,l,c,u,d,m,_,b,x,E=e[23]+"",S=e[24]+"";function R(){return e[12](e[23])}return{c(){t=g("div"),n=g("div"),s=v(E),o=y(),a=g("div"),l=y(),c=g("span"),u=v(" "),d=v(S),m=y(),w(n,"class","label svelte-1cev9dn"),w(a,"class","bar svelte-1cev9dn"),w(c,"class","valor svelte-1cev9dn"),w(t,"class","bar-container svelte-1cev9dn"),w(t,"height",_=" "+(e[2]/e[0].length-10)+"px"),C(t,"active",e[6][e[1]].includes(e[23]))},m(r,p){h(r,t,p),f(t,n),f(n,s),f(t,o),f(t,a),f(t,l),f(t,c),f(c,u),f(c,d),f(t,m),b||(x=[$(t,"click",R),$(t,"keydown",(function(){i(e[7](e[23]))&&e[7](e[23]).apply(this,arguments)}))],b=!0)},p(n,r){e=n,40&r&&E!==(E=e[23]+"")&&k(s,E),40&r&&S!==(S=e[24]+"")&&k(d,S),5&r&&_!==(_=" "+(e[2]/e[0].length-10)+"px")&&w(t,"height",_),106&r&&C(t,"active",e[6][e[1]].includes(e[23]))},d(e){e&&p(t),b=!1,r(x)}}}function ut(t){let n,r,i;return{c(){n=g("button"),n.textContent="Mostrar más ...",w(n,"class","svelte-1cev9dn")},m(e,s){h(e,n,s),r||(i=$(n,"click",t[8]),r=!0)},p:e,d(e){e&&p(n),r=!1,i()}}}function dt(t){let n,r,i;return{c(){n=g("button"),n.textContent="Mostrar menos ...",w(n,"class","svelte-1cev9dn")},m(e,s){h(e,n,s),r||(i=$(n,"click",t[9]),r=!0)},p:e,d(e){e&&p(n),r=!1,i()}}}function ft(t){let n,r,i,s,o=t[5].slice(0,t[3]),a=[];for(let e=0;e<o.length;e+=1)a[e]=ct(lt(t,o,e));let l=t[3]<t[5].length&&ut(t),c=t[3]>9&&dt(t);return{c(){n=g("div");for(let e=0;e<a.length;e+=1)a[e].c();r=y(),l&&l.c(),i=y(),c&&c.c(),s=_(),w(n,"class","chart svelte-1cev9dn")},m(e,o){h(e,n,o);for(let t=0;t<a.length;t+=1)a[t].m(n,null);t[13](n),h(e,r,o),l&&l.m(e,o),h(e,i,o),c&&c.m(e,o),h(e,s,o)},p(e,[t]){if(239&t){let r;for(o=e[5].slice(0,e[3]),r=0;r<o.length;r+=1){const i=lt(e,o,r);a[r]?a[r].p(i,t):(a[r]=ct(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}e[3]<e[5].length?l?l.p(e,t):(l=ut(e),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),e[3]>9?c?c.p(e,t):(c=dt(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&p(n),m(a,e),t[13](null),e&&p(r),l&&l.d(e),e&&p(i),c&&c.d(e),e&&p(s)}}}function ht(e,t,n){let r,i,s;u(e,$e,(e=>n(6,s=e)));let o,{data:a=[]}=t,{key:l=""}=t,{height:c=300}=t,f=5;const h=()=>{o.offsetWidth};O(h);const p=()=>{h()};window.addEventListener("resize",p),T((()=>{window.removeEventListener("resize",p)}));const m=(e,t)=>e[1]<t[1];let g={};function v(e){s[l].includes(e)?d($e,s[l]=s[l].filter((t=>t!==e)),s):d($e,s[l]=[...s[l],e],s)}return e.$$set=e=>{"data"in e&&n(0,a=e.data),"key"in e&&n(1,l=e.key),"height"in e&&n(2,c=e.height)},e.$$.update=()=>{1&e.$$.dirty&&n(11,r=Object.entries(a).sort(m)),3072&e.$$.dirty&&(n(10,g={}),r.forEach((e=>{let t=e[0].split(","),r=e[1];t.forEach((e=>{n(10,e in g?g[e]+=r:g[e]=r,g)}))}))),1024&e.$$.dirty&&n(5,i=Object.entries(g).sort(m)),e.$$.dirty},[a,l,c,f,o,i,s,v,function(){n(3,f=i.length>=f+10?f+10:i.length)},function(){n(3,f=Object.entries(i).length>=10?f-10:Object.entries(sortedDataTags).length-1)},g,r,e=>v(e),function(e){A[e?"unshift":"push"]((()=>{o=e,n(4,o)}))}]}class pt extends G{constructor(e){super(),J(this,e,ht,ft,s,{data:0,key:1,height:2})}}function mt(t){let n,i,s,o,a,l,c,u,d,m,_,b,k,x,E,C,S,R;return{c(){n=g("div"),i=g("div"),s=g("label"),o=g("input"),l=y(),c=g("span"),u=v("\r\n    Series"),d=y(),m=g("div"),_=g("label"),b=g("input"),x=y(),E=g("span"),C=v("\r\n    Peliculas"),w(o,"type","radio"),w(o,"name","options"),o.value="series",o.checked=a=t[0].series,w(o,"class","svelte-wuer0y"),w(c,"class","radio-circle svelte-wuer0y"),w(s,"class","custom-radio svelte-wuer0y"),w(i,"class","labels svelte-wuer0y"),w(b,"type","radio"),w(b,"name","options"),b.value="peliculas",b.checked=k=t[0].peliculas,w(b,"class","svelte-wuer0y"),w(E,"class","radio-circle svelte-wuer0y"),w(_,"class","custom-radio svelte-wuer0y"),w(m,"class","labels svelte-wuer0y"),w(n,"class","chooseDataset svelte-wuer0y")},m(e,r){h(e,n,r),f(n,i),f(i,s),f(s,o),f(s,l),f(s,c),f(s,u),f(n,d),f(n,m),f(m,_),f(_,b),f(_,x),f(_,E),f(_,C),S||(R=[$(o,"change",t[1]),$(b,"change",t[1])],S=!0)},p(e,[t]){1&t&&a!==(a=e[0].series)&&(o.checked=a),1&t&&k!==(k=e[0].peliculas)&&(b.checked=k)},i:e,o:e,d(e){e&&p(n),S=!1,r(R)}}}function gt(e,t,n){let r;u(e,Ce,(e=>n(0,r=e)));let{label:i=""}=t,{isChecked:s=!1}=t,{disabled:o=!1}=t;return e.$$set=e=>{"label"in e&&n(3,i=e.label),"isChecked"in e&&n(2,s=e.isChecked),"disabled"in e&&n(4,o=e.disabled)},e.$$.update=()=>{e.$$.dirty},[r,e=>{n(2,s=!s),d(Ce,r[e.target.value]=!0,r),"series"==e.target.value?d(Ce,r.peliculas=!1,r):d(Ce,r.series=!1,r)},s,i,o]}class vt extends G{constructor(e){super(),J(this,e,gt,mt,s,{label:3,isChecked:2,disabled:4})}}function yt(t){let n,i,s,o,a,l,c,u,d,m,_,b,x,E=t[0].votos+"",C=t[2][Math.floor(t[1]/_t)]+"";return{c(){n=g("div"),i=g("div"),s=g("button"),s.textContent="-",o=y(),a=g("span"),l=v(E),c=y(),u=g("button"),u.textContent="+",d=y(),m=g("div"),_=v(C),w(a,"class","svelte-maqcr8"),w(i,"class","controls svelte-maqcr8"),w(m,"class","applause-icon svelte-maqcr8"),w(n,"class","applause-control svelte-maqcr8")},m(e,r){h(e,n,r),f(n,i),f(i,s),f(i,o),f(i,a),f(a,l),f(i,c),f(i,u),f(n,d),f(n,m),f(m,_),b||(x=[$(s,"click",t[4]),$(u,"click",t[3])],b=!0)},p(e,[t]){1&t&&E!==(E=e[0].votos+"")&&k(l,E),2&t&&C!==(C=e[2][Math.floor(e[1]/_t)]+"")&&k(_,C)},i:e,o:e,d(e){e&&p(n),b=!1,r(x)}}}let _t=50;function $t(e,t,n){let r,i;u(e,xe,(e=>n(0,r=e))),u(e,Oe,(e=>n(8,i=e)));let{key:s,min:o,max:a}=t,l=0;return e.$$set=e=>{"key"in e&&n(6,s=e.key),"min"in e&&n(5,o=e.min),"max"in e&&n(7,a=e.max)},e.$$.update=()=>{256&e.$$.dirty&&Math.max(...i.map((e=>e.votos?parseInt(e.votos.split(" ")[0]):0))),97&e.$$.dirty&&"scoreMax"===s&&n(5,o=r.scoreMax>=r.score?o:r.score)},[r,l,["👏","👏👏","👏👏👏","👏👏👏👏","👏👏👏👏👏","👏👏👏👏👏👏","👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏","👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏👏"],function(){l<=a?(n(1,l+=_t),d(xe,r.votos=l,r)):d(xe,r.votos=r.votosMax,r)},function(){l>0&&(n(1,l-=_t),d(xe,r.votos=l,r))},o,s,a,i]}class wt extends G{constructor(e){super(),J(this,e,$t,yt,s,{key:6,min:5,max:7})}}function bt(e){let t,n,r,i=e[0].length+"";return{c(){t=g("p"),n=v(i),r=v(" resultados"),w(t,"class","resultados")},m(e,i){h(e,t,i),f(t,n),f(t,r)},p(e,t){1&t[0]&&i!==(i=e[0].length+"")&&k(n,i)},d(e){e&&p(t)}}}function kt(t){let n;return{c(){n=g("p"),n.textContent="Ningún resultado con estos filtros"},m(e,t){h(e,n,t)},p:e,d(e){e&&p(n)}}}function xt(t){let n,r,i;return{c(){n=g("button"),n.textContent="Mostrar menos ..."},m(e,s){h(e,n,s),r||(i=$(n,"click",t[9]),r=!0)},p:e,d(e){e&&p(n),r=!1,i()}}}function Et(e){let t,n,i,s,o,a,l,c,u,d,m,v,_,b,k,x,E,C,S,R,O,T,L,A,j,M,I,D,z,F,N,q,U,P,Z,J,G,Y,V,X,ee,te,ne;function re(e,t){return 0==e[0].length?kt:bt}s=new vt({}),a=new Ne({}),u=new at({props:{options:["title","score","minutos","fecha"]}}),m=new De({props:{key:"score",min:0,max:10}}),_=new wt({props:{key:"votos",min:e[1].votos,max:1e3}}),k=new De({props:{key:"minutos",min:0,max:300}}),S=new pt({props:{data:e[8](),key:"generos"}}),L=new pt({props:{data:e[7](),key:"audio"}});let ie=re(e),se=ie(e);F=new pt({props:{data:e[3],key:"keywords"}}),P=new pt({props:{data:e[4],key:"tags"}});let oe=e[2]>10&&xt(e);return X=new nt({props:{data:e[5]}}),{c(){t=g("main"),n=g("div"),n.innerHTML="<h1>Recomendador de Filmín</h1>",i=y(),K(s.$$.fragment),o=y(),K(a.$$.fragment),l=y(),c=g("div"),K(u.$$.fragment),d=y(),K(m.$$.fragment),v=y(),K(_.$$.fragment),b=y(),K(k.$$.fragment),x=y(),E=g("p"),E.textContent="Generos",C=y(),K(S.$$.fragment),R=y(),O=g("p"),O.textContent="Audio",T=y(),K(L.$$.fragment),A=y(),se.c(),j=y(),M=g("h3"),M.textContent="Si no te convence ninguna, haz click en la que más te haya gustado y te recomendamos algunas.",I=y(),D=g("p"),D.textContent="Tags relacionados, puedes seleccionar algunos",z=y(),K(F.$$.fragment),N=y(),q=g("p"),q.textContent="Algunos temas, también los puedes filtrar",U=y(),K(P.$$.fragment),Z=y(),oe&&oe.c(),J=y(),G=g("div"),G.textContent="reset",Y=y(),V=g("div"),K(X.$$.fragment),w(n,"class","header"),w(c,"class","filters"),w(G,"class","reset"),w(V,"class","catalogo"),w(V,"id","catalogo")},m(r,p){h(r,t,p),f(t,n),f(t,i),W(s,t,null),f(t,o),W(a,t,null),f(t,l),f(t,c),W(u,c,null),f(c,d),W(m,c,null),f(c,v),W(_,c,null),f(c,b),W(k,c,null),f(t,x),f(t,E),f(t,C),W(S,t,null),f(t,R),f(t,O),f(t,T),W(L,t,null),f(t,A),se.m(t,null),f(t,j),f(t,M),f(t,I),f(t,D),f(t,z),W(F,t,null),f(t,N),f(t,q),f(t,U),W(P,t,null),f(t,Z),oe&&oe.m(t,null),f(t,J),f(t,G),f(t,Y),f(t,V),W(X,V,null),ee=!0,te||(ne=[$(G,"click",e[27]),$(G,"mousedown",e[28]),$(G,"keydown",e[29])],te=!0)},p(e,n){const r={};2&n[0]&&(r.min=e[1].votos),_.$set(r);const i={};256&n[0]&&(i.data=e[8]()),S.$set(i);const s={};128&n[0]&&(s.data=e[7]()),L.$set(s),ie===(ie=re(e))&&se?se.p(e,n):(se.d(1),se=ie(e),se&&(se.c(),se.m(t,j)));const o={};8&n[0]&&(o.data=e[3]),F.$set(o);const a={};16&n[0]&&(a.data=e[4]),P.$set(a),e[2]>10?oe?oe.p(e,n):(oe=xt(e),oe.c(),oe.m(t,J)):oe&&(oe.d(1),oe=null);const l={};32&n[0]&&(l.data=e[5]),X.$set(l)},i(e){ee||(H(s.$$.fragment,e),H(a.$$.fragment,e),H(u.$$.fragment,e),H(m.$$.fragment,e),H(_.$$.fragment,e),H(k.$$.fragment,e),H(S.$$.fragment,e),H(L.$$.fragment,e),H(F.$$.fragment,e),H(P.$$.fragment,e),H(X.$$.fragment,e),ee=!0)},o(e){B(s.$$.fragment,e),B(a.$$.fragment,e),B(u.$$.fragment,e),B(m.$$.fragment,e),B(_.$$.fragment,e),B(k.$$.fragment,e),B(S.$$.fragment,e),B(L.$$.fragment,e),B(F.$$.fragment,e),B(P.$$.fragment,e),B(X.$$.fragment,e),ee=!1},d(e){e&&p(t),Q(s),Q(a),Q(u),Q(m),Q(_),Q(k),Q(S),Q(L),se.d(),Q(F),Q(P),oe&&oe.d(),Q(X),te=!1,r(ne)}}}function Ct(e,t,n){let r,i,s,o,a,l,c,f,h,p,m,g,v,y,_,$,w;u(e,be,(e=>n(19,f=e))),u(e,$e,(e=>n(20,h=e))),u(e,ke,(e=>n(21,p=e))),u(e,Oe,(e=>n(0,m=e))),u(e,we,(e=>n(22,g=e))),u(e,xe,(e=>n(1,v=e))),u(e,Ce,(e=>n(23,y=e))),u(e,Ee,(e=>n(24,_=e))),u(e,_e,(e=>n(25,$=e))),u(e,ye,(e=>n(26,w=e)));let b=[],k=[],x=8,E={},C=[],S={},L={},A=[],j=[];const M=e=>{const{scrollTop:t,scrollHeight:n,clientHeight:r}=document.documentElement;t+r>=n-50&&(()=>{let e=m.length-b.length>=5?5:m.length-b.length;setTimeout((()=>{if(e>0){let t=b.length;for(let n=0;n<e;n++)b.push(m[t+n])}}),1e3)})()};window.addEventListener("scroll",M),window.addEventListener("touchmove",M),window.addEventListener("touchstart",M),O((()=>{window.addEventListener("scroll",M),window.addEventListener("touchmove",M),window.addEventListener("touchstart",M)})),function(e){R().$$.before_update.push(e)}((()=>{window.removeEventListener("scroll",M),window.addEventListener("touchmove",M),window.addEventListener("touchstart",M)})),function(e){R().$$.after_update.push(e)}((()=>{window.addEventListener("scroll",M),window.addEventListener("touchmove",M),window.addEventListener("touchstart",M)})),T((()=>{window.removeEventListener("scroll",M),window.addEventListener("touchmove",M),window.addEventListener("touchstart",M)}));const I=(e,t)=>t[1]-e[1],D=(e,t)=>{for(const n of g)if(e[n]!==t[n])return"title"==n?t[n]<e[n]?1:-1:t[n]>e[n]?1:-1;return 0};return e.$$.update=()=>{if(67108864&e.$$.dirty[0]&&n(11,k=w.map(((e,t)=>({id:t,pais:e.pais,"subtítulos":e.subtítulos,sinopsis:e.sinopsis,tags:e.tags,title:e.title,audio:e.audio?e.audio.split("\n"):"",director:e.director,duracion:e.duracion,estreno:e.estreno,fecha:e.fecha,generos:e.generos,image:e.image,link:e.link,score:e.score,reparto:e.reparto,minutos:e.minutos,votos:e.votos?e.votos.split(" ")[0]:0})))),33554432&e.$$.dirty[0]&&n(18,r=$.map(((e,t)=>({id:t,pais:e.pais,"subtítulos":e.subtítulos,sinopsis:e.sinopsis,tags:e.tags,title:e.title,audio:e.audio?e.audio.split("\n"):"",fecha:e.fecha,generos:e.generos,image:e.image,link:e.link,reparto:e.reparto})))),8652800&e.$$.dirty[0]&&n(17,i=y.peliculas?k:r),28966914&e.$$.dirty[0]&&d(Oe,m=i.filter((e=>{let t,n,r,i;r=0===f.length||Object.keys(f).includes(e.title),0===p.length||p.includes(e.title),i=f[e.title]?0===h.keywords.length||h.keywords.every((t=>f[e.title].includes(t))):0===h.keywords.length,e.generos&&(e.generos.split(",").length>1?t=0===h.generos.length||h.generos.every((t=>e.generos.includes(t))):null!==e.generos&&(t=0===h.generos.length||e.generos.includes(h.generos))),e.audio&&(e.audio[0].split(",").length>1||null!==e.audio)&&(n=0===h.audio.length||h.audio.every((t=>e.audio.includes(t))));const s=0===h.tags.length||(null!==e.tags?e.tags.includes(h.tags):null),o=0===h.pais.length||(null!==e.pais?e.pais.includes(h.pais):null),a=""===_||(null!==e.title?e.title.toString().toLowerCase().includes(_.toLowerCase()):null)||(null!==e.tags?e.tags.toString().toLowerCase().includes(_.toLowerCase()):null)||(null!==e.director?e.director.toString().toLowerCase().includes(_.toLowerCase()):null)||(null!==e.reparto?e.reparto.toString().toLowerCase().includes(_.toLowerCase()):null);if(y.peliculas){const l=""==v.score||e.score>=v.score,c=""==v.scoreMax||e.score<=v.scoreMax,u=""==v.votos||e.votos>=v.votos,d=""==v.minutos||e.minutos<=v.minutos;return t&&a&&s&&n&&o&&l&&u&&c&&d&&r&&i}return t&&a&&s&&n&&o&&r&&i})),m),7864321&e.$$.dirty[0]&&d(Oe,m=m.sort(D),m),1&e.$$.dirty[0]&&n(10,b=m.slice(0,20)),1&e.$$.dirty[0]&&n(8,s=()=>{let e={};return m.forEach((t=>{let n=t.generos;e[n]?e[n]++:e[n]=1})),e}),1&e.$$.dirty[0]&&n(7,o=()=>{let e={};return m.map((e=>e.audio?e.audio.length?{...e,audio:e.audio.map((e=>e.split(",")))}:e.split(","):[])),m.forEach((t=>{let n=t.audio;e[n]?e[n]++:e[n]=1})),e}),1&e.$$.dirty[0]&&n(16,a=()=>{let e={};return m.map((e=>e.tags.split(",").length>1?{...e,tags:e.tags.split(",")}:e)),m.forEach((t=>{let n=t.tags;e[n]?e[n]++:e[n]=1})),e}),1024&e.$$.dirty[0]&&n(5,c=b),544768&e.$$.dirty[0]){n(12,E={}),n(3,S={}),Object.keys(f).forEach((e=>{const t=f[e];Array.isArray(t)&&t.forEach((e=>{E[e]?n(12,E[e]+=1,E):n(12,E[e]=1,E)}))})),n(14,A=Object.entries(E)),A.sort(I);for(const[e,t]of A)n(3,S[e]=t,S)}if(106496&e.$$.dirty[0]){n(13,C={}),n(4,L={});let e=[];for(const t in a()){e=t.split(",");for(const[t,r]in e)C[e[t]]?n(13,C[e[t]]+=1,C):n(13,C[e[t]]=1,C)}n(15,j=Object.entries(C)),j.sort(I);for(const[t,r]of j)n(4,L[t]=r,L)}},n(6,l=e=>{d(be,f=[],f),d(ke,p=[],p),d($e,h={tags:[],audio:[],generos:[],pais:[],keywords:[]},h)}),[m,v,x,S,L,c,l,o,s,function(){n(2,x=Object.entries(L).length>=10?x-10:Object.entries(L).length-1)},b,k,E,C,A,j,a,i,r,f,h,p,g,y,_,$,w,()=>l(),()=>l(),()=>l()]}class St extends G{constructor(e){super(),J(this,e,Ct,Et,s,{},null,[-1,-1])}}function Rt(t){let n,r,i;return r=new St({}),{c(){n=g("div"),K(r.$$.fragment),w(n,"data-type","graphics-svelte-app"),w(n,"class","svelte-dq3gtq")},m(e,t){h(e,n,t),W(r,n,null),i=!0},p:e,i(e){i||(H(r.$$.fragment,e),i=!0)},o(e){B(r.$$.fragment,e),i=!1},d(e){e&&p(n),Q(r)}}}function Ot(e){return O((async()=>{const e=await fetch("data/catalogo-full.csv"),t=await fetch("data/data-full-series.csv"),n=await e.text(),r=await t.text();fe.parse(n,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:e=>{const t=e.data;ye.set(t)}}),fe.parse(r,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:e=>{const t=e.data;_e.set(t)}})})),[]}const Tt=((e={})=>document.currentScript||(()=>{const t=(e.url||"").replace(/^.+?(\/src\/.+?.js)+?/,"$1");return document.querySelector("script[src='"+t+"']")})())();new class extends G{constructor(e){super(),J(this,e,Ot,Rt,s,{})}}({target:Tt.previousElementSibling,props:{}});
})()
</script>
<noscript>Bitte aktivieren Sie JavaScript in Ihrem Browser, um den Inhalt sehen zu können.</noscript>
</body>
</html>
